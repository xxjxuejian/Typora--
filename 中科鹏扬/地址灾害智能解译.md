默认添加了一个天地图影像图层作为地图，同时也添加了注记

```js
"tian-img": `http://t{0-7}.tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=${webKey}`,

"tian-vec": `http://t{0-7}.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=${webKey}`,
```







一个创建影像图层的代码

```js
const createWMSLayer = (layerName = "LYN:LPQ3857") => {
  const layer = new TileLayer({
    source: new TileWMS({
      url: "http://192.168.1.253:8080/geoserver/wms",
      params: {
        LAYERS: layerName,
        TILED: true,             // 建议加上，使用瓦片方式请求WMS
        FORMAT: 'image/png',     // 默认png也可以
        TRANSPARENT: true,       // 如果需要透明背景
      },
      crossOrigin: "anonymous",
      serverType: "geoserver",
    }),
    zIndex: 10,
  });

  return layer;
};
```

这行代码里的 `url` 是你 `TileWMS` 数据源的 **WMS 服务端点地址（WMS endpoint）**。

 **`192.168.1.253`** 就是一台服务器在你们局域网（内网）里的 **IP 地址**。

说明你们公司把 **GeoServer 部署在这台服务器上**，GeoServer 提供了 WMS 服务接口。

`8080` 是这个服务器上 **GeoServer 所使用的端口号**（默认就是 8080）。





当地图需要显示某个区域时，OpenLayers 会向这个 URL 发送带有参数的 HTTP 请求，比如：

```ini
http://192.168.1.253:8080/geoserver/wms?
  SERVICE=WMS&
  VERSION=1.1.1&
  REQUEST=GetMap&
  LAYERS=LYN:LPQ3857&
  STYLES=&
  FORMAT=image/png&
  SRS=EPSG:3857&
  BBOX=...&
  WIDTH=256&
  HEIGHT=256
```

注意这里的 `LAYERS`、`BBOX`、`WIDTH`、`HEIGHT` 等参数是由 OpenLayers 根据地图当前视图动态拼接上去的。