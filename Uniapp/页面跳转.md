

在 **uni-app** 里，页面跳转有好几种方式，每种方式对应的场景和限制不一样。总结如下：

### 1. **`uni.navigateTo`**

- **功能**：跳转到应用内的某个**非 tabBar** 页面。
- **特点**：
  - 会**保留**当前页面，把新页面压入页面栈。
  - 用户可以点击左上角返回，或调用 `uni.navigateBack()` 返回上一级页面。
  - 页面栈最大深度是 **10 层**，超过会报错。
- **适用场景**：
  - 从一个页面进入到详情页、编辑页等需要返回的页面。
  - 比如：商品列表 → 商品详情。

```js
uni.navigateTo({
  url: '/pages/detail/detail?id=123'
})
```

------

### 2. **`uni.redirectTo`**

- **功能**：关闭当前页面，跳转到应用内的某个**非 tabBar** 页面。
- **特点**：
  - **不会保留**当前页面（替换当前页）。
  - 页面栈深度不会增加。
  - 不能跳转到 tabBar 页面。
- **适用场景**：
  - 当前页面不需要返回时。
  - 比如：登录成功后，跳转到首页，不希望用户再回到登录页。

```js
uni.redirectTo({
  url: '/pages/home/home'
})
```

------

### 3. **`uni.reLaunch`**

- **功能**：关闭所有页面，打开应用内的某个页面。
- **特点**：
  - 页面栈会被清空，只剩下新打开的页面。
  - 可以**跳转到 tabBar 页面和非 tabBar 页面**。
- **适用场景**：
  - 需要重置整个应用的页面栈。
  - 比如：退出登录后跳转到登录页；首次进入应用时跳转到引导页。

```js
uni.reLaunch({
  url: '/pages/login/login'
})
```

------

### 4. **`uni.switchTab`**

- **功能**：跳转到 **tabBar** 页面，并**关闭其他所有非 tabBar 页面**。
- **特点**：
  - 只能跳转到 `pages.json` 中定义过的 tabBar 页面。
  - **不支持传递参数**（可用 `uni.setStorageSync` 等方式传递数据）。
- **适用场景**：
  - 在底部导航栏之间切换。
  - 比如：首页 ↔ 我的。

```js
uni.switchTab({
  url: '/pages/index/index'
})
```

**无论是 `uni.switchTab` API 还是 `<navigator open-type="switchTab">` 组件**，
 👉 **都不能直接通过 url 携带参数**。

那么怎么传递参数？

官方推荐两种方式：

1. **全局存储**（推荐）

   用 `uni.setStorageSync` / `uni.getStorageSync`，或者用 `Vuex` / `Pinia` 存储数据。

   跳转前先存好参数，跳转后在 tabBar 页面里读取。

```js
// 跳转前
uni.setStorageSync('from', 'login')
uni.switchTab({
  url: '/pages/index/index'
})
```



```js
// tabBar 页面 onShow 时读取
onShow() {
  const from = uni.getStorageSync('from')
  if (from === 'login') {
    // 做对应处理
    uni.removeStorageSync('from')
  }
}
```



2. 事件总线 / 全局变量

使用全局事件（例如 `uni.$emit` 和 `uni.$on`）或者 `Vuex` / `Pinia` 来通信。

如果要传递参数，需要借助 **缓存 / 全局状态 / 事件** 来实现。

```js
// 跳转前
uni.$emit('switchTabParams', { from: 'login' })
uni.switchTab({
  url: '/pages/index/index'
})
```



```js
// tabBar 页面 onShow 里监听
onShow() {
  uni.$on('switchTabParams', data => {
    console.log('收到参数', data)
  })
}
```



------

### 5. **`uni.navigateBack`**

- **功能**：关闭当前页面，返回上一页面或多级页面。
- **特点**：
  - 通过 `delta` 指定返回的层级，默认返回上一级。
  - 只能返回页面栈中存在的页面。
- **适用场景**：
  - 返回上一级或者多级页面。
  - 比如：详情页 → 返回列表页。

```js
uni.navigateBack({
  delta: 1
})
```

------

### 总结对比表

| 跳转方式         | 是否保留当前页面   | 是否能跳转 tabBar 页面 | 页面栈情况         |             使用场景 |
| ---------------- | ------------------ | ---------------------- | ------------------ | -------------------: |
| **navigateTo**   | ✅ 保留             | ❌ 否                   | 新页面入栈         | 普通页面跳转，能返回 |
| **redirectTo**   | ❌ 替换             | ❌ 否                   | 当前页被替换       | 登录后跳转、无需返回 |
| **reLaunch**     | ❌ 清空             | ✅ 是                   | 清空栈             |   退出登录、重启流程 |
| **switchTab**    | ❌ 清空非 tabBar 页 | ✅ 是                   | 只保留 tabBar 页面 |         底部导航切换 |
| **navigateBack** | ❌ 返回             | ✅（如果在栈中）        | 按 delta 返回      |      返回上/多级页面 |